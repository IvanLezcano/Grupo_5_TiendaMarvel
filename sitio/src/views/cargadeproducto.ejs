<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head')  %> 

<body class="carga-de-producto">
    <h1>Carga de Producto</h1>
    <div class="volver">
        <a href="/productos"> << Volver a productos</a> <a href="/">Ir a Home >></a>

    </div>
    <main class="carga">
        <form action="/productos/carga" method="POST" enctype="multipart/form-data" class="form"> 
            <div>
                <input type="text" id="nombreProducto" name="title" placeholder="Nombre de Producto"
                 value="<%=locals.old && old.nombre? old.nombre :null %>">
                 <span class="error-carga"><%= locals.errores && errores.nombre ? errores.nombre.msg : null %></span>

            </div>
            <div>
                <label for="imagen">Imagen</label>
                <input type="file" name="image" id="imagenProducto" value="<%= locals.old && old.imagen? old.imagen:null %>">
                   <span class="error-carga"><%= locals.errores && errores.imagen ? errores.imagen.msg : null %></span>

            </div>
            <div>
                <label for="pecio">Precio</label>
                <input type="number" name="price" id="precioProducto" value="<%= locals.old && old.precio? old.precio:null%>">
                  <span class="error-carga"><%= locals.errores && errores.precio ? errores.precio.msg : null %></span>
                   
            <div>
                <label for="descripcion">Descripción del producto</label>
                <textarea name="description" id="descripcion" cols="8" rows="3" placeholder="Escribir..." ><%= locals.old && old.descripcion ? old.descripcion : null %></textarea>
                 <span class="error-carga"><%= locals.errores && errores.descripcion ? errores.descripcion.msg : null %></span>
            </div>
            <div>
                <label for="categoria">Categoría</label>
                <select name="categoryId">
                    <option value="" selected hidden>Seleccione la categoría</option>
                    <% categorias.forEach(rubro => { %>
                        <option value="<%= rubro.id %>"<%= locals.old && old.categoria===rubro.id ? 'selected' :null%> ><%= rubro.name %></option> 
                    <% }) %>
                  </select>
                  
                  <span class="error-carga"><%= locals.errores && errores.categoria ? errores.categoria.msg : null %></span>
                   
            </div>
            <div class="button">
            <button type="submit">Publicar</button>
            </div>
        </form>
    </main>
</body>
</html>