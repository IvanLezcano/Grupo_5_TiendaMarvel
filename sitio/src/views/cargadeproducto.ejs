<!DOCTYPE html>
<html lang="en">
<%- include('./partials/head')  %> 

<body class="carga-de-producto">
    <h1>Carga de Producto</h1>
    <div class="volver">
        <a href="/productos"> << Volver a productos</a> <a href="/">Ir a Home >></a>

    </div>
    <main class="carga">
        <form action="/productos/carga" method="POST" enctype="multipart/form-data" class="form"> 
            <div>
                <input type="text" id="nombreProducto" name="title" placeholder="Nombre de Producto"
                 value="<%=locals.old && old.title? old.title :null %>">
                 <span class="error-carga errorName"><%= locals.errores && errores.title ? errores.title.msg : null %></span>

            </div>
            <div>
                <label for="imagen">Imagen</label>
                <input type="file" name="image" id="imagenProducto" value="<%= locals.old && old.image? old.image:null %>">
                <span class="error-carga errorImagen"><%= locals.errores && errores.image ? errores.image.msg : null %></span>
            </div>
            <div>
                <label for="pecio">Precio</label>
                <input type="number" name="price" id="precioProducto" value="<%= locals.old && old.price? old.price:null%>">
                  <span class="error-carga"><%= locals.errores && errores.price ? errores.price.msg : null %></span>
                   
                </div>
            <div>
                <label for="pecio">Descuento (opcional)</label>
                <input type="number" name="discount" id="precioProducto" value="<%= locals.old && old.discount? old.discount:null%>">
                  <span class="error-carga"><%= locals.errores && errores.discount ? errores.discount.msg : null %></span>
                   
             </div>
             <div>
                <label for="descripcion">Descripción del producto</label>
                <textarea name="description" id="descripcion" cols="8" rows="3" placeholder="Escribir..." ><%= locals.old && old.description ? old.description : null %></textarea>
                 <span class="error-carga"><%= locals.errores && errores.description ? errores.description.msg : null %></span>
            </div>
            <div>
                <label for="categoria">Categoría</label>
                <select name="categoryId">
                    <option value="" selected hidden>Seleccione la categoría</option>
                    <% categorias.forEach(categoria => { %>
                        <option value="<%= categoria.id %>"<%= locals.old && old.categoryId===categoria.id ? 'selected' :null%> ><%= categoria.name %></option> 
                    <% }) %>
                  </select>
                  
                  <span class="error-carga"><%= locals.errores && errores.categoryId ? errores.categoryId.msg : null %></span>
                   
            </div>
            <div class="button">
            <button type="submit">Publicar</button>
            </div>
        </form>
    </main>
    <script src="/public/javascript/validateFormRegister.js" ></script>
    <script src="/javascript/validateCarga.js"></script>
</body>
</html>